---
kind: article
created_at: 2009-06-16
title: "xServer xorg.conf for 4850 X2 dual monitor - Ubuntu 9.04"
---

Thanks to [gwydion](http://blog.morrigan.ch/?p=52)

I got my xorg.conf to finally work in Ubunutu 9.04 Jaunty. I was having problems where when I boot into ubuntu, I didn't even get a login screen, it just froze at a black screen after boot up with a few artifacts of color here and there.

Took many, many hours trying to finding this solution. I ended up being able to use the proprietary driver fglrx when all was said and done, instead of having to use vesa.

Here is what I did:

    dpkg-reconfigure xserver-xorg
    aticonfig --initial -f --adapter=all
    aticonfig --cfa --adapater=all
    aticonfig --add-pairmode=<your width>x<your height>+<your width 2>x<your height 2>

Also had to add

    Option "EnableRandR12" "false"

to each device section and

    EnableRandR12=Sfalse

to the [AMDPCSROOT/SYSTEM/DDX] section of /etc/ati/amdpcsdb ([source](http://ubuntuforums.org/showthread.php?p=7144148)) in order to disable RandR 1.2

xorg.conf


    # xorg.conf (X.Org X Window System server configuration file)
    #
    # This file was generated by dexconf, the Debian X Configuration tool, using
    # values from the debconf database.
    #
    # Edit this file with caution, and see the xorg.conf manual page.
    # (Type "man xorg.conf" at the shell prompt.)
    #
    # This file is automatically updated on xserver-xorg package upgrades *only*
    # if it has not been modified since the last upgrade of the xserver-xorg
    # package.
    #
    # Note that some configuration settings that could be done previously
    # in this file, now are automatically configured by the server and settings
    # here are ignored.
    #
    # If you have edited this file but would like it to be automatically updated
    # again, run the following command:
    #   sudo dpkg-reconfigure -phigh xserver-xorg
    
    Section "ServerLayout"
    	Identifier     "aticonfig Layout"
    	Screen      0  "aticonfig-Screen[0]-0" 0 0
    	Screen         "aticonfig-Screen[1]-0"# RightOf "aticonfig-Screen[0]-0"
    EndSection
    
    Section "Files"
    EndSection
    
    Section "Module"
    EndSection
    
    Section "Monitor"
    	Identifier   "aticonfig-Monitor[0]-0"
    	Option	    "VendorName" "ATI Proprietary Driver"
    	Option	    "ModelName" "Generic Autodetecting Monitor"
    	Option	    "DPMS" "true"
    	HorizSync   30-82
    	VertRefresh  56-76
    EndSection
    
    Section "Monitor"
    	Identifier   "aticonfig-Monitor[1]-0"
    	Option	    "VendorName" "ATI Proprietary Driver"
    	Option	    "ModelName" "Generic Autodetecting Monitor"
    	Option	    "DPMS" "true"
    	HorizSync   30-82
    	VertRefresh  50-75
    EndSection
    
    Section "Device"
    	Identifier  "aticonfig-Device[0]-0"
    	Driver      "fglrx"
    	Option	    "EnableRandR12" "false"
    	Option	    "PairModes" "1680x1050+1280x1024"
    	BusID       "PCI:3:0:0"
    	Option          "XAANoOffscreenPixmaps"
    EndSection
    
    Section "Device"
    	Identifier  "aticonfig-Device[1]-0"
    	Driver      "fglrx"
    	Option	    "EnableRandR12" "false"
    	BusID       "PCI:4:0:0"
    	Option          "XAANoOffscreenPixmaps"
    EndSection
    
    Section "Screen"
    	Identifier "aticonfig-Screen[0]-0"
    	Device     "aticonfig-Device[0]-0"
    	Monitor    "aticonfig-Monitor[0]-0"
    	DefaultDepth     24
    	SubSection "Display"
    		Viewport   0 0
    		Depth     24
    		Modes      "1680x1050_75.00"
    	EndSubSection
    EndSection
    
    Section "Screen"
    	Identifier "aticonfig-Screen[1]-0"
    	Device     "aticonfig-Device[1]-0"
    	Monitor    "aticonfig-Monitor[1]-0"
    	DefaultDepth     24
    	SubSection "Display"
    		Viewport   0 0
    		Depth     24
    		Modes      "1280x1024_75.00"
    	EndSubSection
    EndSection


This probably is a solution for the 4870 X2, or any other X2 based board.
